[[#*inline "Short_Title"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/short_title",
    "deletePattern" : "DELETE {  $subject rdfs:label $value . $subject ecrm:P3_has_note $value .} WHERE {}",
    "selectPattern" : "SELECT ?value WHERE { $subject rdfs:label ?value . }",
    "minOccurs" : "1",
    "description" : "A short title to identify the publication",
    "range" : [ ],
    "label" : "Short Title",
    "insertPattern" : "INSERT {  $subject rdfs:label $value . $subject ecrm:P3_has_note $value .} WHERE {}",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#string",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Short_Title",
    "order" : 0
} 
[[/inline]]

[[#*inline "Publication_Event"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/publication_event",
    "selectPattern" : "SELECT ?value WHERE { BIND(URI(CONCAT(STR(?subject), \"/publication/event\")) as ?value)}",
    "minOccurs" : "1",
    "description" : "Creates a blank F30 Publication Event",
    "range" : [ ],
    "label" : "Publication Event",
    "insertPattern" : "INSERT {
      $subject ecrm:P128_carries ?publication_expression .
      ?publication_expression a efrbroo:F24_Publication_Expression ;
      efrbroo:R24i_was_created_through $value .
      $value a efrbroo:F30_Publication_Event .
    } WHERE {
      BIND(URI(CONCAT(STR($subject), \"/publication/expression\")) as ?publication_expression)
    }",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Publication_Event",
    "order" : 0
} 
[[/inline]]

[[#*inline "Book_Record_Type"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/book_record_type",
    "selectPattern" : "SELECT $value WHERE {  BIND(?subject as ?dummy)  VALUES ($value) {  (<http://ontologies.mpiwg-berlin.mpg.de/sphaera/Book>) } }",
    "minOccurs" : "1",
    "description" : "Defaults to the book record type",
    "range" : [ ],
    "label" : "Book Record Type",
    "insertPattern" : "INSERT { $subject rdf:type $value} WHERE {}",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
    "domain" : [ ],
    "valueSetPattern" : "SELECT $value $label WHERE {  VALUES ($value $label)     {  (<http://ontologies.mpiwg-berlin.mpg.de/sphaera/Book> \"Book\")  } }",
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Book_Record_Type",
    "order" : 0
} 
[[/inline]]

[[#*inline "Reproduction_Event"]]
 {
    "iri" : "http://www.metaphacts.com/fieldDefinition/reproduction_event",
    "selectPattern" : "SELECT ?value WHERE { BIND(URI(CONCAT(STR(?subject), \"/reproduction/event\")) as ?value)}",
    "minOccurs" : "1",
    "description" : "Creates a blank F33 Reproduction Event",
    "range" : [ ],
    "label" : "Reproduction Event",
    "insertPattern" : "INSERT {  $subject efrbroo:R29i_was_reproduced_by $value . $value a efrbroo:F33_Reproduction_Event} WHERE {}",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Reproduction_Event",
    "order" : 0
} 
[[/inline]]

[[#*inline "Expression_Creation"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/expression_creation",
    "selectPattern" : "SELECT ?value WHERE { BIND(URI(CONCAT(STR(?subject), \"/expression/event\")) as ?value)}",
    "minOccurs" : "1",
    "description" : "Creates a blank F28 Expression Creation",
    "range" : [ ],
    "label" : "Expression Creation",
    "insertPattern" : "INSERT {  $subject ecrm:P128_carries ?publication_expression . ?publication_expression a efrbroo:F24_Publication_Expression ; ecrm:P165_incorporates ?expression . ?expression a efrbroo:F22_Self-Contained_Expression ;     efrbroo:R17i_was_created_by $value . $value a efrbroo:F28_Expression_Creation .} WHERE { BIND(URI(CONCAT(STR($subject), \"/publication/expression\")) as ?publication_expression) BIND(URI(CONCAT(STR($subject), \"/expression\")) as ?expression)}",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Expression_Creation",
    "order" : 0
} 
[[/inline]]

[[#*inline "DOI"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/doi",
    "selectPattern" : "SELECT ?value WHERE { BIND(\"DOI will be generated on save to avoid collisions\" as ?value) BIND($subject as ?dummy)}",
    "minOccurs" : "1",
    "description" : "Assigns an auto-generated DOI",
    "range" : [ ],
    "label" : "DOI ",
    "insertPattern" : "INSERT {
        $subject ecrm:P1_is_identified_by ?identifier .
        ?identifier a ecrm:E42_Identifier ;
        ecrm:P2_has_type <http://www.doi.org> ;
        ecrm:P3_has_note ?updatedValue.
        :configDOICounter ecrm:P3_has_note ?newCounter .
      } WHERE {
        VALUES (?prefix ?namespace ?version) {
          (\"21.11103\" \"sphaera\" \"1\")
        }
        BIND(URI(CONCAT(STR($subject),\"/doi\")) as ?identifier)
        OPTIONAL { ?identifier ecrm:P3_has_note ?existingValue. }
        {SELECT ?counter WHERE {
            OPTIONAL { :configDOICounter ecrm:P3_has_note ?dbCounter . }
            BIND(IF(BOUND(?dbCounter), ?dbCounter, \"1\"^^xsd:integer) as ?counter)
        } ORDER BY DESC(?counter) LIMIT 1 }
        BIND(
          IF((STRLEN(?counter)) = 1,
            \"0000\", IF((STRLEN(?counter)) = 2,
              \"000\", IF((STRLEN(?counter)) = 3,
                \"00\", IF((STRLEN(?counter)) = 4 ,
                  \"0\", \"\")))
          )
        AS ?padding)

        BIND(CONCAT(?prefix, \"/\", ?namespace, \".\", ?version, ?padding, STR(?counter + 1 )) AS ?newValue)
        BIND(IF(BOUND(?existingValue), ?existingValue, ?newValue) AS ?updatedValue)
        BIND(IF(BOUND(?existingValue), ?counter, ?counter + 1 ) as ?newCounter)
        BIND(?value as ?dummy)
    }",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#string",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "DOI",
    "order" : 0
} 
[[/inline]]

[[#*inline "Carrier_Production_Event"]]
{
    "iri" : "http://www.metaphacts.com/fieldDefinition/carrier_production_event",
    "selectPattern" : "SELECT ?value WHERE { BIND(URI(CONCAT(STR(?subject), \"/manifestation/event\")) as ?value)}",
    "minOccurs" : "1",
    "description" : "Creates a blank F32 Carrier Production Event",
    "range" : [ ],
    "label" : "Carrier Production Event",
    "insertPattern" : "INSERT {
      $subject efrbroo:R7_is_example_of ?manifestation ;
        efrbroo:R28i_was_produced_by ?value .
      ?manifestation a efrbroo:F3_Manifestation_Product_Type ;
        efrbroo:R26i_was_produced_by ?value .
      ?publication_expression efrbroo:CLR6i_should_be_carried_by ?manifestation .
      ?value a efrbroo:F32_Carrier_Production_Event .
    } WHERE {
      BIND(URI(CONCAT(STR(?subject), \"/manifestation\")) as ?manifestation)
      BIND(URI(CONCAT(STR(?subject), \"/publication/expression\")) as ?publication_expression)
    }",
    "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
    "domain" : [ ],
    "defaultValues" : [ ],
    "maxOccurs" : "1",
    "id" : "Carrier_Production_Event",
    "order" : 0
} 
[[/inline]]

[[#*inline "Custom_Identifier"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/custom_identifier",
  "selectPattern" : "SELECT ?value WHERE { $subject ecrm:P1_is_identified_by ?identifier . ?identifier ecrm:P2_has_type sphaera:customIdentifier ; ecrm:P3_has_note ?value .}",
  "description" : "A custom identifier for the book",
  "range" : [ ],
  "label" : "Custom Identifier",
  "insertPattern" : "INSERT {  $subject ecrm:P1_is_identified_by ?identifier . ?identifier ecrm:P2_has_type sphaera:customIdentifier ; ecrm:P3_has_note $value .} WHERE { BIND(URI(CONCAT(STR($subject), \"/custom_id\")) as ?identifier)}",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#string",
  "domain" : [ ],
  "askPattern" : "ASK { { ?entity ecrm:P1_is_identified_by ?identifier . ?identifier ecrm:P2_has_type sphaera:customIdentifier ; ecrm:P3_has_note ?value . FILTER(REGEX(STR(?entity), STR($subject), \"i\")) } UNION {  OPTIONAL { ?entity ecrm:P1_is_identified_by ?identifier . ?identifier ecrm:P2_has_type sphaera:customIdentifier ; ecrm:P3_has_note ?value . } FILTER(! BOUND(?entity)) }}",
  "defaultValues" : [ ],
  "maxOccurs" : "1",
  "id" : "Custom_Identifier",
  "order" : 0
} 
[[/inline]]

[[#*inline "Book_Title"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/book_title",
  "selectPattern" : "SELECT ?value WHERE {
    $subject ecrm:P128_carries ?publication_expression .
    ?publication_expression a efrbroo:F24_Publication_Expression ;
    ecrm:P102_has_title ?book_title .
    ?book_title a sphaera:Book_Title ;
    ecrm:P3_has_note $value .
  }",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#string",
  "domain" : [ ],
  "description" : "The title of the book",
  "range" : [ ],
  "defaultValues" : [ ],
  "id" : "Book_Title",
  "label" : "Book Title",
  "insertPattern" : "INSERT {
      ?publication_expression ecrm:P102_has_title ?book_title .
      ?publication_expression a efrbroo:F24_Publication_Expression .
      ?book_title a sphaera:Book_Title ;
        ecrm:P3_has_note $value
    } WHERE {
      BIND(URI(CONCAT(STR($subject), \"/publication/expression\")) as ?publication_expression)
      OPTIONAL {
        ?publication_expression ecrm:P102_has_title ?existing_book_title .
        ?existing_book_title ecrm:P3_has_note $value .
      }
      BIND(IF(BOUND(?existing_book_title),
        ?existing_book_title,
        IRI(CONCAT(STR(?subject), \"/publication/title/\", STRUUID()))) as ?book_title)
    }",
  "order" : 0
} 
[[/inline]]

[[#*inline "Book_Material"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/book_material",
  "selectPattern" : "SELECT ?value ?label WHERE { $subject ecrm:P45_consists_of ?value . ?value ecrm:P3_has_note ?label }",
  "minOccurs" : "0",
  "description" : "The material of the book",
  "range" : [ ],
  "label" : "Book Material",
  "insertPattern" : "INSERT { $subject ecrm:P45_consists_of $value} WHERE {}",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
  "domain" : [ ],
  "valueSetPattern" : "SELECT ?value ?label WHERE { ?value a ecrm:E57_Material ;     ecrm:P3_has_note ?label .}",
  "defaultValues" : [ ],
  "maxOccurs" : "1",
  "id" : "Book_Material",
  "order" : 0
} 
[[/inline]]

[[#*inline "Book_Type"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/book_type",
  "autosuggestionPattern" : "SELECT ?value ?label WHERE { ?value a ecrm:E55_Type;          ecrm:P3_has_note ?label .     sphType:bookType skos:member ?value . FILTER REGEX(STR(?label), \"?token\", \"i\" ) } LIMIT 10",
  "selectPattern" : "SELECT ?value ?label WHERE { $subject ecrm:P2_has_type ?value . ?value ecrm:P3_has_note ?label . }",
  "minOccurs" : "0",
  "description" : "The type of the book (original text, commentary, etc.)",
  "range" : [ ],
  "label" : "Book Type",
  "insertPattern" : "INSERT {     $subject ecrm:P2_has_type $value .} WHERE {}",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
  "domain" : [ ],
  "valueSetPattern" : "SELECT ?value ?label WHERE { ?value a ecrm:E55_Type ;     ecrm:P3_has_note ?label .     sphType:bookType skos:member ?value .}",
  "defaultValues" : [ ],
  "maxOccurs" : "1",
  "id" : "Book_Type",
  "order" : 0
} 
[[/inline]]

[[#*inline "Language"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/book_language",
  "deletePattern" : "DELETE {  ?expression ecrm:P72_has_language $value .} WHERE { BIND(URI(CONCAT(STR($subject), \"/expression\")) as ?expression)}",
  "autosuggestionPattern" : "SELECT ?value ?label WHERE { ?value a ecrm:E56_Language ;          ecrm:P3_has_note ?label . FILTER REGEX(STR(?label), \"?token\", \"i\" ) } LIMIT 10",
  "selectPattern" : "SELECT ?value ?label WHERE {    $subject ecrm:P128_carries ?publication_expression .    ?publication_expression a efrbroo:F24_Publication_Expression ;        ecrm:P165_incorporates ?expression . ?expression a efrbroo:F22_Self-Contained_Expression ; ecrm:P72_has_language ?value .    ?value ecrm:P3_has_note ?label .}",
  "description" : "The language of the publication",
  "range" : [ ],
  "label" : "Language",
  "insertPattern" : "INSERT {     ?expression ecrm:P72_has_language $value .} WHERE { BIND(URI(CONCAT(STR($subject), \"/expression\")) as ?expression)}",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
  "domain" : [ ],
  "valueSetPattern" : "SELECT ?value ?label WHERE { ?value a ecrm:E56_Language ;     ecrm:P3_has_note ?label .}",
  "defaultValues" : [ ],
  "maxOccurs" : "unbound",
  "id" : "Language",
  "order" : 0
} 
[[/inline]]

[[#*inline "Author"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/author",
  "deletePattern" : "DELETE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:author .
  } WHERE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:author .
  }",
  "selectPattern" : "SELECT ?value WHERE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates/efrbroo:R17i_was_created_by/ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value  ;
        ecrm:P14.1_in_the_role_of sphRole:author .
  }",
  "description" : "The language of the publication",
  "range" : [ ],
  "label" : "Author",
  "insertPattern" : "INSERT {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:author .
  } WHERE {
    BIND(URI(CONCAT(STR($subject), \"/publication/expression\")) as ?publication_expression)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"symbolic_object\", \"/\", STRUUID())) as ?symbolicObject)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"expression\", \"/\", STRUUID())) as ?expression)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"carried_out_by\", \"/\", STRUUID())) as ?carried_out_by)
  }",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
  "domain" : [ ],
  "defaultValues" : [ ],
  "maxOccurs" : "unbound",
  "id" : "Author",
  "order" : 0
} 
[[/inline]]

[[#*inline "Translator"]]
{
  "iri" : "http://www.metaphacts.com/fieldDefinition/translator",
  "deletePattern" : "DELETE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:translator .
  } WHERE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:translator .
  }",
  "selectPattern" : "SELECT ?value WHERE {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates/efrbroo:R17i_was_created_by/ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value ;
      ecrm:P14.1_in_the_role_of sphRole:translator .
  }",
  "description" : "The language of the publication",
  "range" : [ ],
  "label" : "Translator",
  "insertPattern" : "INSERT {
    ?subject ecrm:P128_carries ?publication_expression .
    ?publication_expression ecrm:P165_incorporates ?symbolicObject .
    ?symbolicObject efrbroo:R17i_was_created_by ?expression .
    ?expression  ecrm:PC01_is_domain_of ?carried_out_by .
    ?carried_out_by ecrm:PC02_has_range ?value .
    ?carried_out_by ecrm:P14.1_in_the_role_of sphRole:translator .
  } WHERE {
    BIND(URI(CONCAT(STR($subject), \"/publication/expression\")) as ?publication_expression)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"symbolic_object\", \"/\", STRUUID())) as ?symbolicObject)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"expression\", \"/\", STRUUID())) as ?expression)
    BIND(IRI(CONCAT(STR(?subject), \"/\", \"carried_out_by\", \"/\", STRUUID())) as ?carried_out_by)
  }",
  "xsdDatatype" : "http://www.w3.org/2001/XMLSchema#anyURI",
  "domain" : [ ],
  "defaultValues" : [ ],
  "maxOccurs" : "unbound",
  "id" : "Translator",
  "order" : 0
} 
[[/inline]]